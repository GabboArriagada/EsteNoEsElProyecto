<h4>Listado completo de asistencias del curso</h4>
<br>
<br>
<input type="text" id="myInput" onkeyup="myFunction()" placeholder="Buscar por nombre.." title="Type in a name">

<br>
<table class="table" id="myTable">
  <thead>
    <tr>
      <th>Nombre</th>
      <th>Asisti칩</th>
      <th>Fecha</th>
      <th>Acciones</th>
    </tr>
  </thead>
  <tbody>
    <% @presences.reverse_each do |presence| %>
      <tr>
        <td><%= presence.user.name+' '+ presence.user.last_name%></td>
        <%if presence.asistio == true%>
        <td><%= 'Si' %></td>
        <%end%>
        <td><%= presence.fecha.strftime("%d-%m-%Y") %></td>
        <td><%= link_to profesor_presence_path(presence), method: :delete, data: {confirm: 'Est치 seguro?'} do%>
        <%= fa_icon 'trash', text: 'Eliminar' %>
      <% end %></td>
      </tr>
    <% end %>
  </tbody>
</table>
<%= will_paginate @presences, renderer: BootstrapPagination::Rails, :previous_label => 'P치g. anterior', :next_label => 'P치g. siguiente' %>
<div class="panel-footer">
  <%= link_to "/profesor/presences/#{@users.last.cursos.last.id}", class: 'btn btn-success' do %>
    <%= fa_icon 'arrow-left', text: t(:Volver) +'a Curso' %>
  <% end %>
</div>

<script>

function myFunction() {
  var input, filter, tabla, tr, td, i;
  input = document.getElementById("myInput");
  filter = input.value.toUpperCase();
  table = document.getElementById("myTable");
  tr = table.getElementsByTagName("tr");
  for (i = 0; i < tr.length; i++) {
    td = tr[i].getElementsByTagName("td")[0];
    if (td) {
      if (td.innerHTML.toUpperCase().indexOf(filter) > -1) {
        tr[i].style.display = "";
      } else {
        tr[i].style.display = "none";
      }
    }
  }
}
</script>
